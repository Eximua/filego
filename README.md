# Filego - A decentralized storage platform

* ``Version: 1.0``
* ``Author: Eximua Labs``
* ``Email: xieyang@dodora.cn``
* ``Date: July 22, 2018``

## 摘要

Filego 是一个去中心化存储平台，我们通过 IPFS 技术连接世界范围内的空闲存储设备，同时利用区块链为设备提供方（以下简称矿工）、用户和开发者提供经济价值。

使用 Filego 能使存储市场在没有中介的情况下运营。与传统云存储厂商相比，我们通过智能合约保障存储交易，提供稳定、安全且便宜的硬盘空间租赁方案，保证每一个人都能买得起。并且，没有任何一方能审查 Filego 上的内容，Filego 将真正做到**自己的数据归自己**。

无论是个人还是企业，都可以以矿工或用户的身份融入 Filego 的生态圈，生态圈内的所有交易都使用 FiCoin（Filego的数字货币）。

Filego 是由 ``File`` 和 ``Ego`` 两个单词组成的合成词，``Ego`` 的中文翻译是 ``自我意识``，我们的目标是让存储在 Filego 之上的文件拥有充分的 ``自我意识``，从而确保文件的自主权。

长期目标是希望能够成为下一代互联网存储的基础设施。

## 详细介绍

传统云存储厂商（七牛云、百度云盘等）都是大型第三方机构，这种系统易受各种安全威胁，如中间人攻击、应用程序漏洞等。此外，由于托管在第三方服务器上，一旦受到攻击，容易暴露消费者隐私和企业私密数据。而且，大多存储服务依赖于相同的基础设施，一旦发生故障，往往波及范围广。另外一个潜在的威胁是监管，第三方服务往往会在上传时审查你的内容并过滤掉一些他们认为的“非法内容”，从而对用户、企业和社会的权益造成侵犯。

与之相比，去中心化存储平台则具有很大优势。首先，数据安全使用客户端加密来保证，数据完整性使用可检索证明来维护。同时，P2P（Peer-to-Peer）的冗余存储特性，可以大大降低基础设施故障带来的文件丢失问题。每个人都可以参与的自由存储市场，也将降低普通用户的存储成本。使用IPFS的版本控制系统（Version Control），可以记录文件的每一个版本，从而抵制篡改和侵权等问题。

本文详述了包含去中心化存储和加密货币一套系统的实现方案。

## 基本架构

Filego 包含三方面的基础架构，分别是服务端及其生态（服务矿工和开发者）、客户端及其生态（服务普通用户和开发者）以及加密货币（FiCoin）。

### 服务端及其生态

服务端主要给矿工和开发者使用，目标是零成本启动成为 Filego 网络中的一个节点，并为用户提供租赁服务。

此外，为开发者提供服务的相关软件开发包（SDK, Software Development Kit）也包含在这其中。

FiCoin的部分组件也会在服务端中有所体现，如``文件可检索证明``、``网络稳定性证明``等。

### 客户端及其生态

客户端主要给普通用户和开发者使用，主要目标是使用户能方便的管理自己的文件，包括但不限于存储、上传、下载和分享。次要目标是使开发者能利用应用程序编程接口（API, Application Programming Interface）方便的集成自己的服务。

FiCoin的部分组件也会在客户端中有所体现，如``区块浏览器``等。

### FiCoin加密货币

FiCoin 加密货币将作为 Filego 网络内的交易货币。矿工提供设备并被系统证明可用后将会获得相应的 FiCoin 作为奖励；用户可支付法币或 FiCoin 进行租赁，若支付法币则兑换成当前 FiCoin 的价格，然后系统再使用 FiCoin 进行支付，支付完成后该 FiCoin 将按比例（系统将根据存储容量、下行容量、上行容量、稳定性等参数对矿工进行评分）分发给所有矿工。

### 为什么Filego需要加密货币

为什么需要加密货币则需要从“加密货币”的本质说起。ICO（首次代币发行）这种创新的方式，让每一家中小企业或个人都拥有了在市场上募集资本的权利，这种权利不再归属于已经成熟并且拥有稳定现金流的公司。通过加密货币这种成本稍低的方式，可以很快的帮助一个初创项目获得起始资本从而快速推动产品发展，这种方式比现今流行的种子轮、天使轮、A轮更加有效。但是，我们应该避免市面上的空气币。如果你是因为加密货币背后的产品、技术、团队和愿景而投资，那么你就不是被割的韭菜或投机者，而是真正的**价值投资者**。

小米上市时，圈内人盛传“小米的股票值得长期持有”。那么 Filego 也希望某一天圈内的人也能说“ FiCoin 值得长期持有”，此时，对Filego 、矿工和用户是一个三方共赢的局面。

这就是 Filego 需要加密货币的原因。

## 设计方案

Filego 是一个用来构建分布式去中心化存储网络的开源软件。其主要是一个用来传输数据、验证身份和文件完整性、履行智能合约的 P2P 网络。每一个节点都是匿名自治的，利用这个特性，用户可以不经过第三方平台实现文件管理。以下内容描述了实现这么一个网络所涉及到的工具和组件。

Filego同时要求矿工每隔一段时间提供一份“存储证明”以证明用户的数据还在他们的设备中。

### 身份认证

### P2P网络

### 数据安全

### 服务端

### 客户端

### FiCoin加密货币

FiCoin 是流通在 Filego 生态圈内的数字货币，FiCoin 使用 M-of-N 多重签名方法来减少类比特币数字货币的复杂性。FiCoin 的智能合约包含两个概念：1、基础智能合约；2、可用性证明。智能合约声明了是哪个矿机存储了文件、文件的大小以及文件 hash 值。可用性证明用来验证矿机的带宽稳定性和存储可用性（证明文件还存在矿机上）。

### 交易

一次交易包含以下字段：

| 字段名称 | 字段描述 |
| ------ | ------ |
| Version | 协议版本号 |
| Arbitrary Data  | 任意数据，如描述元数据或其它数据 |
| Miner Fee | 给矿工的奖励 |
| Input | 收入 |
| Outputs | 支出（可选） |
| File Contract | 文件存储合约（可选） |
| Storge Proof | 存储可用性合约（可选） |
| Signatures | 非对称加密生成的签名 |

#### 签名

### 文件合约

### 存储可用性证明

### 任意数据（Arbitrary Data）

### 存储生态

#### 矿工利益

#### 用户利益

#### 正常运行激励

#### 基础信誉网络

### FiCoin 创始团队激励

FiCoin 有一个基金账户 ``FiFunds``，用来存放给予创始团队的数字货币。生成一个区块并达成合约时，将会有 2.9% 的交易额被划分给 ``FiFunds`` 基金。FiCoin创始团队（以第一版的所有开发者为界限）占有 ``FiFunds`` 100% 的权益。

``FiFunds`` 中的货币只能与其它账户进行交易，不能用来挖矿或者签订合约。

### FiCoin 发行量

FiCoin 的发行量是无上限的，所有新发型的货币将会发放给所有矿工作为补贴。第一个区块会有 15万个 Ficoins，每产生一个新区块，则减少一个货币，直到第 15万个 区块为止。按照每10分钟生成一个区块的速度，每年的货币增长率为：

| 年 | 1 | 2 | 3 | 4 | 5 | 8 | 20
| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------
| 增长率 | 90% | 39% | 21% | 11.5% | 4.4% | 3.2% | 2.3

FiCoin 发行的方式是根据存储市场的大小（也就是合约签订的数量）自动发行，所以 FiCoin 会具有很大的波动性。

## 总结

Filego在未来要在P2P和商业级别上与传统云存储厂商竞争。
